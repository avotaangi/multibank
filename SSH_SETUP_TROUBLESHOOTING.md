# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

- ‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ ping (178.217.98.35)
- ‚ùå –ü–æ—Ä—Ç 22 (SSH) –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. SSH —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å SSH
systemctl status ssh
# –∏–ª–∏
systemctl status sshd

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ SSH —Å–µ—Ä–≤–∏—Å
systemctl start ssh
systemctl enable ssh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
systemctl status ssh
```

### 2. –ü–æ—Ä—Ç 22 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Ñ–∞–π—Ä–≤–æ–ª–∞
ufw status
# –∏–ª–∏
iptables -L

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç 22
ufw allow 22/tcp
ufw reload

# –ò–ª–∏ –¥–ª—è iptables
iptables -A INPUT -p tcp --dport 22 -j ACCEPT
```

### 3. SSH –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç

–ï—Å–ª–∏ SSH –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2222), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
ssh -p 2222 root@178.217.98.35
```

–ò–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `setup-ssh-keys.sh`, —É–∫–∞–∑–∞–≤ –ø–æ—Ä—Ç:

```bash
ssh-copy-id -p 2222 root@178.217.98.35
```

### 4. –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∞):

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å (VNC/Web Console)
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH (—Å–º. –≤—ã—à–µ)
4. –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ –ø–æ—Ä—Ç–∞

–ï—Å–ª–∏ SSH –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É, –æ–±–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã:

```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ scripts/setup-ssh-keys.sh
# –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç 22 –Ω–∞ –Ω—É–∂–Ω—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2222)
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ VPN

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ VPN:
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPN
2. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É SSH –∫–ª—é—á–µ–π

## –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH

–ö–æ–≥–¥–∞ SSH –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
./scripts/setup-ssh-keys.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
ssh-copy-id root@178.217.98.35
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: Qf7v#N2kL9y=rz3U+Hp4%axW~tM8
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
ssh root@178.217.98.35
# –î–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –±–µ–∑ –ø–∞—Ä–æ–ª—è
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH config

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–æ–±–∞–≤—å—Ç–µ –≤ `~/.ssh/config`:

```
Host multibank-server
    HostName 178.217.98.35
    User root
    IdentityFile ~/.ssh/id_rsa
    StrictHostKeyChecking no
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ:
```bash
ssh multibank-server
```

