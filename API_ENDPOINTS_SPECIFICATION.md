# üìã –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API Endpoints –¥–ª—è FastAPI Backend

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç frontend. FastAPI –±—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

## üîß –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Base URL
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**: `VITE_API_URL`
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: `http://localhost:3001/api`
- **–í–∞–∂–Ω–æ**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `/api/*`

### –û–±—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- `Content-Type: application/json` (–¥–ª—è POST/PUT/PATCH)
- `Authorization: Bearer {token}` (–¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

### Request Interceptor (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è)
- –î–ª—è GET –∑–∞–ø—Ä–æ—Å–æ–≤: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `_t` —Å —Ç–µ–∫—É—â–∏–º timestamp (–¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–º–µ—é—Ç timeout: 10000ms

### Response Interceptor (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)
- **401 –æ—à–∏–±–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `/auth/refresh` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ - —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`

---

## üîê 1. Authentication API (`/api/auth`)

### 1.1. POST `/api/auth/telegram`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram WebApp

**Request Body**:
```json
{
  "initData": "string"  // Telegram WebApp initData
}
```

**Response**:
```json
{
  "token": "string",
  "user": {
    "id": "string",
    "username": "string",
    // –¥—Ä—É–≥–∏–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  }
}
```

### 1.2. POST `/api/auth/pin`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PIN-–∫–æ–¥–∞

**Request Body**:
```json
{
  "pin": "string"
}
```

### 1.3. POST `/api/auth/pin/verify`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ PIN-–∫–æ–¥–∞

**Request Body**:
```json
{
  "pin": "string"
}
```

### 1.4. GET `/api/auth/me`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

**Headers**: `Authorization: Bearer {token}`

**Response**:
```json
{
  "user": {
    "id": "string",
    "username": "string",
    // –¥—Ä—É–≥–∏–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  }
}
```

### 1.5. POST `/api/auth/refresh`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞

**Headers**: `Authorization: Bearer {token}`

**Response**:
```json
{
  "token": "string"
}
```

### 1.6. POST `/api/auth/logout`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

**Headers**: `Authorization: Bearer {token}`

---

## üë§ 2. User API (`/api/users`)

### 2.1. PUT `/api/users/profile`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏ –ø—Ä–æ—Ñ–∏–ª—è

### 2.2. PUT `/api/users/preferences`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –æ–±—ä–µ–∫—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### 2.3. GET `/api/users/stats`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Headers**: `Authorization: Bearer {token}`

### 2.4. DELETE `/api/users/account`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Headers**: `Authorization: Bearer {token}`

---

## üí≥ 3. Accounts API (`/api/accounts`)

### 3.1. GET `/api/accounts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤

**Query Parameters**: 
- `client_id` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Headers**: `Authorization: Bearer {token}`

### 3.2. GET `/api/accounts/banking`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤ (–¥–ª—è –≤—Å–µ—Ö –±–∞–Ω–∫–æ–≤)

**Query Parameters**:
- `consent_id` (string)
- `client_id` (string)
- –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Headers**: `Authorization: Bearer {token}`

**Response**: –ú–∞—Å—Å–∏–≤ —Å—á–µ—Ç–æ–≤ —Å–æ –≤—Å–µ—Ö –±–∞–Ω–∫–æ–≤

### 3.3. GET `/api/accounts/:id`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å—á–µ—Ç–µ

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 3.4. POST `/api/accounts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—á–µ—Ç

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –¥–∞–Ω–Ω—ã–µ —Å—á–µ—Ç–∞

### 3.5. PUT `/api/accounts/:id`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—á–µ—Ç–µ

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –¥–∞–Ω–Ω—ã–µ —Å—á–µ—Ç–∞

### 3.6. PUT `/api/accounts/:id/default`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**Headers**: `Authorization: Bearer {token}`

### 3.7. GET `/api/accounts/:id/balance`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

---

## üí∏ 4. Transactions API (`/api/transactions`)

### 4.1. GET `/api/transactions`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**Query Parameters**:
- `client_id` (string)
- –¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Headers**: `Authorization: Bearer {token}`

### 4.2. GET `/api/transactions/:id`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**Headers**: `Authorization: Bearer {token}`

### 4.3. POST `/api/transactions/transfer`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥–∞

### 4.4. GET `/api/transactions/stats/summary`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

---

## ‚úÖ 5. Consents API (`/api/consents`)

### 5.1. Account Consents

#### POST `/api/consents/accounts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Å—á–µ—Ç–∞–º

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–∏—è

#### GET `/api/consents/accounts/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≥–ª–∞—Å–∏–∏

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

#### DELETE `/api/consents/accounts/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–æ–∑–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 5.2. Payment Consents

#### POST `/api/consents/payments`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø–ª–∞—Ç–µ–∂–∏

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

#### GET `/api/consents/payments/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≥–ª–∞—Å–∏–∏ –Ω–∞ –ø–ª–∞—Ç–µ–∂–∏

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

#### DELETE `/api/consents/payments/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–æ–∑–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø–ª–∞—Ç–µ–∂–∏

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 5.3. Product Agreement Consents

#### POST `/api/consents/product-agreements`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

#### GET `/api/consents/product-agreements/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≥–ª–∞—Å–∏–∏ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

#### DELETE `/api/consents/product-agreements/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–æ–∑–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

---

## üí∞ 6. Payments API (`/api/payments`)

### 6.1. POST `/api/payments`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞

### 6.2. GET `/api/payments/:paymentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞—Ç–µ–∂–µ

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üì± 7. Telegram API (`/api/telegram`)

### 7.1. GET `/api/telegram/webapp-config`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Telegram WebApp

### 7.2. POST `/api/telegram/verify-webapp`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Telegram WebApp

**Request Body**:
```json
{
  "initData": "string"
}
```

---

## üéÅ 8. Rewards API (`/api/rewards`)

### 8.1. GET `/api/rewards/balance/:externalAccountID`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤

**Headers**: 
- `Authorization: Bearer {token}`
- `Correlation-ID: {UUID}` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `X-Caller-Id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: –¥–∞–Ω–Ω—ã–µ –æ –±–∞–ª–∞–Ω—Å–µ –±–æ–Ω—É—Å–æ–≤

### 8.2. POST `/api/rewards/redeem/:externalAccountID`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–Ω—É—Å—ã (—Å–ø–∏—Å–∞–Ω–∏–µ)

**Headers**: 
- `Authorization: Bearer {token}`
- `Correlation-ID: {UUID}` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `X-Caller-Id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**:
```json
{
  "redemptionReferenceNumber": "string (UUID)",
  "points": number,
  "valuePerPoint": number (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

---

## üì¶ 9. Products API (`/api/products`)

### 9.1. GET `/api/products`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 9.2. GET `/api/products/:productId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–¥—É–∫—Ç–µ

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 9.3. GET `/api/products/agreements`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–≥–æ–≤–æ—Ä–æ–≤

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 9.4. POST `/api/products/agreements`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –¥–∞–Ω–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä–∞

### 9.5. GET `/api/products/agreements/:agreementId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ–≥–æ–≤–æ—Ä–µ

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

### 9.6. DELETE `/api/products/agreements/:agreementId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–∫—Ä—ã—Ç—å –¥–æ–≥–æ–≤–æ—Ä

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: `Authorization: Bearer {token}`

**Request Body**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

---

## üè¶ 10. Banking API (`/api/auth`)

### 10.1. GET `/api/auth/banks`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–∞–Ω–∫–æ–≤

**Headers**: `Authorization: Bearer {token}`

### 10.2. POST `/api/auth/bank-token`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–Ω–∫—É

**Query Parameters**:
- `bank` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
- –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Headers**: `Authorization: Bearer {token}`

**Request Body**: `null` (–ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ)

---

## üìã 11. Leads API (`/api/leads`)

### 11.1. GET `/api/leads`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ª–∏–¥–æ–≤

**Query Parameters**:
- `leadId` (array, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –º–∞—Å—Å–∏–≤ ID –ª–∏–¥–æ–≤
  - –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫: `leadId=1&leadId=2&leadId=3`

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ –ª–∏–¥–æ–≤

### 11.2. POST `/api/leads`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –ª–∏–¥

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ª–∏–¥–∞

### 11.3. POST `/api/leads/check`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–¥

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üí≥ 12. Credit Products API (`/api/credit-products`)

### 12.1. Products

#### GET `/api/credit-products/products`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### GET `/api/credit-products/products/:productId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫—Ä–µ–¥–∏—Ç–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 12.2. Customer Leads

#### POST `/api/credit-products/customer-leads`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∫—Ä–µ–¥–∏—Ç

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏

#### GET `/api/credit-products/customer-leads/:customerLeadId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞—è–≤–∫–µ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### DELETE `/api/credit-products/customer-leads/:customerLeadId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –∑–∞—è–≤–∫—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 12.3. Product Offers

#### POST `/api/credit-products/product-offers`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–¥—É–∫—Ç—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

#### GET `/api/credit-products/product-offers`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### GET `/api/credit-products/product-offers/:offerId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### DELETE `/api/credit-products/product-offers/:offerId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 12.4. Product Offer Consents

#### POST `/api/credit-products/product-offer-consents`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–∏—è

#### GET `/api/credit-products/product-offer-consents/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≥–ª–∞—Å–∏–∏

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### DELETE `/api/credit-products/product-offer-consents/:consentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–æ–∑–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 12.5. Product Applications

#### POST `/api/credit-products/product-application`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏

#### GET `/api/credit-products/product-application`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### GET `/api/credit-products/product-application/:productApplicationId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞—è–≤–∫–µ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### DELETE `/api/credit-products/product-application/:productApplicationId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –∑–∞—è–≤–∫—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üíµ 13. Cash Loan Applications API (`/api/cash-loan-applications`)

### 13.1. POST `/api/cash-loan-applications`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∫—Ä–µ–¥–∏—Ç –Ω–∞–ª–∏—á–Ω—ã–º–∏

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏ (–≤–∫–ª—é—á–∞—è –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∞–¥—Ä–µ—Å –∏ —Ç.–¥.)

### 13.2. GET `/api/cash-loan-applications/:applicationId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 13.3. PATCH `/api/cash-loan-applications/:applicationId/confirm`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ –∫—Ä–µ–¥–∏—Ç—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: `{}` (–ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ)

---

## üé¥ 14. Card Management API (`/api/card-management`)

### 14.1. GET `/api/card-management/credentials/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–∞—Ä—Ç—ã (PAN, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è, –¥–µ—Ä–∂–∞—Ç–µ–ª—å)

**Headers**: 
- `Authorization: Bearer {token}`
- `X-Mdm-Id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `clientOpenKey` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `x-client-channel` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `X-PARTNER-ID` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: 
```json
{
  "data": {
    "encryptedPan": "string (base64)",
    "cardExpiry": "string",
    "embossingName": "string"
  }
}
```

### 14.2. GET `/api/card-management/cvv/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å CVV –∫–æ–¥ –∫–∞—Ä—Ç—ã

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: 
```json
{
  "data": {
    "Cvv": "string (base64)"
  }
}
```

### 14.3. POST `/api/card-management/token/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É (–¥–ª—è –∫–æ—à–µ–ª—å–∫–æ–≤)

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏

### 14.4. GET `/api/card-management/tokens/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ –∫–∞—Ä—Ç—ã

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: 
```json
{
  "data": {
    "tokens": [
      {
        "name": "string",
        "value": "string"
      }
    ]
  }
}
```

---

## üîß 15. Card Operations API (`/api/card-operations`)

### 15.1. POST `/api/card-operations/close/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: `{}` (–ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ)

### 15.2. POST `/api/card-operations/pin/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–∏—Ç—å PIN-–∫–æ–¥ –∫–∞—Ä—Ç—ã

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: 
```json
{
  "newPin": "string"
}
```

### 15.3. PUT `/api/card-operations/status/:publicId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞—Ä—Ç—ã (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: 
```json
{
  "status": "string"  // –Ω–∞–ø—Ä–∏–º–µ—Ä, "BLOCK", "UNBLOCK"
}
```

---

## üåê 16. Universal Payments API (`/api/universal-payments`)

### 16.1. GET `/api/universal-payments/payments/:paymentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –ø–ª–∞—Ç–µ–∂—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 16.2. GET `/api/universal-payments/products`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

**Query Parameters**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 16.3. POST `/api/universal-payments/payments/start`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∞—á–∞—Ç—å –æ–ø–ª–∞—Ç—É (–ø–æ–ª—É—á–∏—Ç—å —Ñ–æ—Ä–º—É —Å –ø–æ–ª—è–º–∏)

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–ª–∞—Ç–µ–∂–∞

### 16.4. POST `/api/universal-payments/payments/request`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂ (–∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø–ª–∞—Ç—É)

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞

### 16.5. POST `/api/universal-payments/payments/confirm`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–ª–∞—Ç–µ–∂

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)

### 16.6. GET `/api/universal-payments/payments/:paymentId/check`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —á–µ–∫ –ø–æ –ø–ª–∞—Ç–µ–∂—É

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: —Ñ–∞–π–ª (PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ —á–µ–∫–∞

---

## üì± 17. Mobile Payments API (`/api/mobile-payments`)

### 17.1. POST `/api/mobile-payments/products`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞

### 17.2. POST `/api/mobile-payments/phones/info`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–æ–º–µ—Ä–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞)

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: 
```json
{
  "phone": "string"
}
```

### 17.3. POST `/api/mobile-payments/payments/start`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∞—á–∞—Ç—å –ø–ª–∞—Ç–µ–∂ –∑–∞ –º–æ–±–∏–ª—å–Ω—É—é —Å–≤—è–∑—å

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–ª–∞—Ç–µ–∂–∞

### 17.4. POST `/api/mobile-payments/payments/request`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂ –∑–∞ –º–æ–±–∏–ª—å–Ω—É—é —Å–≤—è–∑—å

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞

### 17.5. POST `/api/mobile-payments/payments/confirm`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–ª–∞—Ç–µ–∂ –∑–∞ –º–æ–±–∏–ª—å–Ω—É—é —Å–≤—è–∑—å

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Request Body**: –¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### 17.6. GET `/api/mobile-payments/payments/:paymentId`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞—Ç–µ–∂–µ –∑–∞ –º–æ–±–∏–ª—å–Ω—É—é —Å–≤—è–∑—å

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 17.7. GET `/api/mobile-payments/payments/:paymentId/check`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —á–µ–∫ –ø–æ –ø–ª–∞—Ç–µ–∂—É –∑–∞ –º–æ–±–∏–ª—å–Ω—É—é —Å–≤—è–∑—å

**Headers**: 
- `Authorization: Bearer {token}`
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response**: —Ñ–∞–π–ª (PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ —á–µ–∫–∞

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ FastAPI

### 1. CORS
- –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (localhost:5173 –∏ –¥—Ä—É–≥–∏–µ –ø–æ—Ä—Ç—ã)
- –†–∞–∑—Ä–µ—à–∏—Ç—å credentials

### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Bearer Token –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º refresh —Ç–æ–∫–µ–Ω–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 401 –æ—à–∏–±–∫–∏

### 3. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–∏–º API
–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–∏–º Open Banking API:
- `https://api.bankingapi.ru/api/rb/...`
- –ù—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–≤–∞—Ä–¥–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
- –ù—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö API

### 4. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- GET –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `_t` (timestamp) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –¥–ª—è –≤—Å–µ—Ö GET —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ú–∞—Å—Å–∏–≤—ã –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `leadId`) –¥–æ–ª–∂–Ω—ã —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ `param=value1&param=value2`

### 5. –ó–∞–≥–æ–ª–æ–≤–∫–∏
- –ú–Ω–æ–≥–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ñ–æ—Ä–≤–∞—Ä–¥–∏—Ç—å –∫ –≤–Ω–µ—à–Ω–∏–º API
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —É–∫–∞–∑–∞–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- `Authorization` –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Bearer Token

### 6. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–∫—Ä–æ–º–µ —Ñ–∞–π–ª–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤)
- –û—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
  ```json
  {
    "message": "string",
    "error": "string" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –≤ development)
  }
  ```

### 7. Health Check
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `/api/health` endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã frontend

1. **–í—Å–µ –ø—É—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤** - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Ç–æ—á–Ω–æ
2. **Base URL** - `/api` –ø—Ä–µ—Ñ–∏–∫—Å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤** - frontend –æ–∂–∏–¥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è
4. **–ú–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** - Bearer Token + refresh
5. **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
7. **Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç frontend
8. **–ó–∞–≥–æ–ª–æ–≤–∫–∏** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

---

## üîó –°–≤—è–∑—å —Å –≤–Ω–µ—à–Ω–∏–º–∏ API

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–∏–º Open Banking API. –¢–µ–∫—É—â–∏–π Node.js –±—ç–∫–µ–Ω–¥ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ reference –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è:
- –ö–∞–∫–∏–µ –≤–Ω–µ—à–Ω–∏–µ API –≤—ã–∑—ã–≤–∞—é—Ç—Å—è
- –ö–∞–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è
- –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç–≤–µ—Ç—ã
- –ö–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è `client_id`, `consent_id`, `externalAccountID` –∏ –¥—Ä—É–≥–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

